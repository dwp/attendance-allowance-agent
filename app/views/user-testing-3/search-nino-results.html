{% extends "user-testing-3/layouts/internal-layout.html" %}
{% set hideRef = "true" %}
{% set pageName = "Claimant details" %}

{% block content %}
  
  
  <!-- <span class="govuk-caption-xl">Pedro Pascal</span> -->
  <h1 class="govuk-heading-xl">
    {{ pageName }}
  </h1>

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">

      <dl class="govuk-summary-list">
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            National Insurance number
          </dt>
          <dd class="govuk-summary-list__value">
            {% if data['searchNino'] %}
              {{ data['searchNino']}}
            {% else %}
              AB123456C
            {% endif %}
          </dd>
        </div>
        {% if (data['searchNino'] == "QQ123456A") or  (data['searchNino'] == "QQ123456B") or (data['searchNino'] == "QQ123456C") 
          or (data['searchNino'] == "AA123456A") or  (data['searchNino'] == "AA123456B") or (data['searchNino'] == "AA123456C")
        %}
          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">
              Name
            </dt>
            <dd class="govuk-summary-list__value">
              {% if data['claimFirstName'] or data['claimLastName'] %}
                {{data['claimFirstName']}} {{data['claimLastName']}}
              {% else %}
                No record
              {% endif %}
            </dd>
          </div>
          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">
              Date of birth
            </dt>
            <dd class="govuk-summary-list__value">
              {% 
                if (
                data['claimDateOfBirthDD'] and
                data['claimDateOfBirthMM'] and
                data['claimDateOfBirthYYYY'] 
                ) 
              %}
                {{ data['claimDateOfBirthDD'] }}
                {{ data['claimDateOfBirthMM'] | monthName }}
                {{ data['claimDateOfBirthYYYY'] }}
              {% else %}
                No record
              {% endif %}
            </dd>
          </div>
        {% endif %}
      </dl>

      {% if (data['searchNino'] == "QQ123456A") or  (data['searchNino'] == "QQ123456B") or (data['searchNino'] == "QQ123456C") 
        or (data['searchNino'] == "AA123456A") or  (data['searchNino'] == "AA123456B") or (data['searchNino'] == "AA123456C")
      %}
        <table class="govuk-table govuk-table--small-text-until-tablet">
          <caption class="govuk-table__caption govuk-table__caption--m">Claims</caption>
          <thead class="govuk-table__head">
            <tr class="govuk-table__row">
              <th scope="col" class="govuk-table__header">Date created</th>
              <th scope="col" class="govuk-table__header">Claim type</th>
              <th scope="col" class="govuk-table__header">Claim status</th>
              <th scope="col" class="govuk-table__header">
                <span class="govuk-visually-hidden">Action</span>
              </th>
            </tr>
          </thead>
          <tbody class="govuk-table__body">
            {% if (data['searchNino'] == "QQ123456A") or  (data['searchNino'] == "QQ123456B") or (data['searchNino'] == "QQ123456C") %}
              <tr class="govuk-table__row">
                <td scope="row" class="govuk-table__cell">29 January 2026</td>
                <td class="govuk-table__cell">Special rules</td>
                <td class="govuk-table__cell">
                  <strong class="govuk-tag govuk-tag--green">
                    Open
                  </strong>
                </td>
                <td class="govuk-table__cell">
                  <a class="govuk-link" href="claim">View <span class="govuk-visually-hidden">claimant details</span></a>
                </td>
              </tr>
            {% elif (data['searchNino'] == "AA123456A") or  (data['searchNino'] == "AA123456B") or (data['searchNino'] == "AA123456C") %}
              <tr class="govuk-table__row">
                <td scope="row" class="govuk-table__cell">29 February 2026</td>
                <td class="govuk-table__cell">Special rules</td>
                <td class="govuk-table__cell">
                  <strong class="govuk-tag govuk-tag--green">
                    Allowed
                  </strong>
                </td>
                <td class="govuk-table__cell">
                  <a class="govuk-link" href="claim">View <span class="govuk-visually-hidden">claimant details</span></a>
                </td>
              </tr>
            {% endif %}
          </tbody>
        </table>
        {# <nav class="govuk-pagination" aria-label="Pagination">
          <ul class="govuk-pagination__list">
            <li class="govuk-pagination__item govuk-pagination__item--current">
              <a class="govuk-link govuk-pagination__link" href="#" aria-label="Page 1" aria-current="page">
                1
              </a>
            </li>
            <li class="govuk-pagination__item">
              <a class="govuk-link govuk-pagination__link" href="#" aria-label="Page 2">
                2
              </a>
            </li>
            <li class="govuk-pagination__item">
              <a class="govuk-link govuk-pagination__link" href="#" aria-label="Page 3">
                3
              </a>
            </li>
          </ul>
          <div class="govuk-pagination__next">
            <a class="govuk-link govuk-pagination__link" href="#" rel="next">
              <span class="govuk-pagination__link-title">
                Next<span class="govuk-visually-hidden"> page</span>
              </span>
              <svg class="govuk-pagination__icon govuk-pagination__icon--next" xmlns="http://www.w3.org/2000/svg" height="13" width="15" aria-hidden="true" focusable="false" viewBox="0 0 15 13">
                <path d="m8.107-0.0078125-1.4136 1.414 4.2926 4.293h-12.986v2h12.896l-4.1855 3.9766 1.377 1.4492 6.7441-6.4062-6.7246-6.7266z"></path>
              </svg>
            </a>
          </div>
        </nav> #}
        {% else %}
          <p class="govuk-body">
            The National Insurance number you have entered does not have a record with Department for work and pention. 
            If you want to register a new claim, use the 'register new claim' button.
          </p>
          <form class="form" method="post" action="registration/claim">
          {% if  (data['searchNino'] == "BB123456A") or  (data['searchNino'] == "BB123456B") or (data['searchNino'] == "BB123456C") %}
            <input class="govuk-input govuk-visually-hidden" id="claimHasCIS" name="claimHasCIS" type="text" value="false">
          {% endif %}
            <button type="submit" class="govuk-button" data-module="govuk-button">
              Register a claim
            </button>
          </form>
        {% endif %}
    </div>
  </div>

{% endblock %}
