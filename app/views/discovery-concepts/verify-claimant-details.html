{% extends "iteration-1/layouts/internal-layout.html" %}

{% set pageName = "Verify claimant details" %}

{% block content %}
  
  <h1 class="govuk-heading-xl">
    {{ pageName }}
  </h1>

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
      <table class="govuk-table">
        <caption class="govuk-table__caption govuk-table__caption--m govuk-visually-hidden">Verify personal details</caption>
        <thead class="govuk-table__head">
          <tr class="govuk-table__row">
            <th scope="col" class="govuk-table__header"><span class="govuk-visually-hidden">Details</span></th>
            <th scope="col" class="govuk-table__header">Claim records</th>
            <th scope="col" class="govuk-table__header">DWP records</th>
            <th scope="col" class="govuk-table__header">Matching status</th>
          </tr>
        </thead>
        <tbody class="govuk-table__body">
          <tr class="govuk-table__row">
            <th scope="row" class="govuk-table__header">NINO</th>
            <td class="govuk-table__cell">
              {% if data['claim']['claimFormData']['claimOverview']['nationalInsurance'] %}
                {{ data['claim']['claimFormData']['claimOverview']['nationalInsurance'] }}
              {% else %}
                QQ123456C
              {% endif %}
            </td>
            <td class="govuk-table__cell">QQ123456C</td>
            <td class="govuk-table__cell">
              <strong class="govuk-tag govuk-tag--green">
                Match
              </strong>
            </td>
          </tr>
          <tr class="govuk-table__row">
            <th scope="row" class="govuk-table__header">Name</th>
            <td class="govuk-table__cell">
              {% if data['claimFirstName'] or data['claimLastName'] %}
                {{data['claimFirstName']}} {{data['claimLastName']}}
              {% else %}
                James Smith
              {% endif %}
            </td>
            <td class="govuk-table__cell">
              {% if data['dwpData']['firstName'] and data['dwpData']['lastName'] %}
                {{data['dwpData']['firstName']}} {{data['dwpData']['lastName']}}
              {% else %}
                Jame Smith
              {% endif %}
            </td>
            <td class="govuk-table__cell">
              {% 
                if 
                  (data['claimFirstName'] == data['dwpData']['firstName']) 
                and 
                  (data['claimLastName'] == data['dwpData']['lastName']) 
              %}
                <strong class="govuk-tag govuk-tag--green">
                  Match
                </strong>
              {% 
                elif not 
                  (data['claimFirstName']  == data['dwpData']['firstName']) 
                or not 
                  (data['claimLastName'] == data['dwpData']['lastName']) 
              %}
                <strong class="govuk-tag govuk-tag--red">
                  Unmatched
                </strong>
              {% else %}
                <strong class="govuk-tag govuk-tag--red">
                  Error
                </strong>
              {% endif %}
            </td>
          </tr>
          <tr class="govuk-table__row">
            <th scope="row" class="govuk-table__header">Date of birth</th>
            <td class="govuk-table__cell">
              {% 
                if (
                data['dateOfBirthDD'] and
                data['dateOfBirthMM'] and
                data['dateOfBirthYYYY'] 
                ) 
              %}
                {{ data['claimDateOfBirthDD'] }}
                {{ data['claimDateOfBirthMM'] | monthName }}
                {{ data['claimDateOfBirthYYYY'] }}
              {% else %}
                13 April 1958
              {% endif %}
            </td>
            <td class="govuk-table__cell">13 April 1958</td>
            <td class="govuk-table__cell">
              {% if 
                (data['claimDateOfBirthDD'] == '10') and
                (data['claimDateOfBirthMM'] == '10') and
                (data['claimDateOfBirthYYYY'] == '1930')
                
              %}
                <strong class="govuk-tag govuk-tag--green">
                  Match
                </strong>
              {% else %}
                <strong class="govuk-tag govuk-tag--red">
                  Unmatched
                </strong>
              {% endif %}
            </td>
          </tr>
          <tr class="govuk-table__row">
            <th scope="row" class="govuk-table__header">Address</th>
            <td class="govuk-table__cell">
              {% if data['claimAddress1'] %}
                {{data['claimAddress1']}}<br/>
              {% else %}
                11 street<br/>
              {% endif %}

              {% if data['claimAddress2'] %}
                {{data['claimAddress2']}}<br/>
              {% else %}
                Heaton<br/>
              {% endif %}

              {% if data['claimAddress3'] %}
                {{data['claimAddress3']}}<br/>
              {% else %}
                Newcastle upon tyne<br/>
              {% endif %}

              {% if data['claimAddress4'] %}
                {{data['claimAddress4']}}<br/>
              {% else %}
                England<br/>
              {% endif %}

              {% if data['claimPostcode'] %}
                {{ data['claimPostcode'] }}
              {% else %}
                DL11C3
              {% endif %}
            </td>
            <td class="govuk-table__cell">
              {% if data['dwpData']['address']['address1'] %}
                {{data['dwpData']['address']['address1']}}<br/>
              {% else %}
                11 street<br/>
              {% endif %}

              {% if data['dwpData']['address']['address2'] %}
                {{data['dwpData']['address']['address2']}}<br/>
              {% else %}
                Heaton<br/>
              {% endif %}

              {% if data['dwpData']['address']['address3'] %}
                {{data['dwpData']['address']['address3']}}<br/>
              {% else %}
                Newcastle upon tyne<br/>
              {% endif %}

              {% if data['dwpData']['address']['address4'] %}
                {{data['dwpData']['address']['address4']}}<br/>
              {% else %}
                England<br/>
              {% endif %}

              {% if data['dwpData']['address']['postcode'] %}
                {{data['dwpData']['address']['postcode']}}
              {% else %}
                NE1 5DQ
              {% endif %}
            </td>
            <td class="govuk-table__cell">
              {% 
                if 
                  (data['claimAddress1'] == data['dwpData']['address']['address1']) 
                and 
                  (data['claimAddress2'] == data['dwpData']['address']['address2']) 
                and 
                  (data['claimAddress3'] == data['dwpData']['address']['address3']) 
                and 
                  (data['claimAddress4'] == data['dwpData']['address']['address4']) 
                and 
                  (data['claimPostcode'] == data['dwpData']['address']['postcode']) 
              %}
                <strong class="govuk-tag govuk-tag--green">
                  Match
                </strong>
              {% 
                elif not 
                  (data['claimAddress1'] == data['dwpData']['address']['address1']) 
                or not 
                  (data['claimAddress2'] == data['dwpData']['address']['address2']) 
                or not 
                  (data['claimAddress3'] == data['dwpData']['address']['address3']) 
                or not 
                  (data['claimAddress4'] == data['dwpData']['address']['address4']) 
                or not 
                  (data['claimPostcode'] == data['dwpData']['address']['postcode']) 
              %}
                <strong class="govuk-tag govuk-tag--red">
                  Unmatched
                </strong>
              {% else %}
                <strong class="govuk-tag govuk-tag--red">
                  Error
                </strong>
              {% endif %}
            </td>
          </tr>
          <tr class="govuk-table__row">
            <th scope="row" class="govuk-table__header">Phone number</th>
            <td class="govuk-table__cell">
                {% if data['claimMainContactNumber'] %}
                  {{data['claimMainContactNumber']}}
                {% else %}
                  0800001066
                {% endif %}
            </td>
            <td class="govuk-table__cell">0700001066</td>
            <td class="govuk-table__cell">
              {% if (data['claimMainContactNumber'] == data['dwpData']['mainContactNumber']) %}
                <strong class="govuk-tag govuk-tag--green">
                  Match
                </strong>
              {% elif not (data['claimMainContactNumber'] == data['dwpData']['mainContactNumber']) %}
                <strong class="govuk-tag govuk-tag--red">
                  Unmatched
                </strong>
              {% else %}
                <strong class="govuk-tag govuk-tag--red">
                  Error
                </strong>
              {% endif %}
            </td>
          </tr>
        </tbody>
      </table>

      <form method="post" action="verify-claimant-details-answer">
        <div class="govuk-form-group">
          <fieldset class="govuk-fieldset">
            <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
              What would you like to do next?
            </legend>
            <div class="govuk-radios" data-module="govuk-radios">
              <div class="govuk-radios__item">
                <input class="govuk-radios__input" id="verifyAction" name="verifyAction" type="radio" value="verify">
                <label class="govuk-label govuk-radios__label" for="verifyAction">
                  Verify that the claimant's details are correct
                </label>
              </div>
              <div class="govuk-radios__item">
                <input class="govuk-radios__input" id="verifyAction-2" name="verifyAction" type="radio" value="close">
                <label class="govuk-label govuk-radios__label" for="verifyAction-2">
                  Close the claim
                </label>
              </div>
              <div class="govuk-radios__item">
                <input class="govuk-radios__input" id="verifyAction-2" name="verifyAction" type="radio" value="change">
                <label class="govuk-label govuk-radios__label" for="verifyAction-3">
                  Change the claimant's details
                </label>
              </div>
            </div>
          </fieldset>
          <input class="govuk-input govuk-visually-hidden" id="tast-verify-status" name="taskVerifyStatus" type="text" value="inprogress">
        </div>
        <button type="submit" class="govuk-button" data-module="govuk-button">
          Continue
        </button>
      </form>
    </div>
  </div>
</div>

{% endblock %}
